<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DME Study Hub - Create Account</title>
    <link rel="stylesheet" href="nav-footer.css"> <!-- for front style -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <!-- for icons -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            opacity: 0;
            animation: pageLoad 0.8s ease-out forwards;
        }

        @keyframes pageLoad {
            to {
                opacity: 1;
            }
        }

        .container {
            display: flex;
            height: 100vh;
            animation: containerSlide 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes containerSlide {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Top Alert Message */
        .alert-container {
            position: fixed;
            top: 20px;
            left: 77.5%;
            transform: translateX(-50%);
            z-index: 1000;
            width: 100%;
            max-width: 450px;
            pointer-events: none;
        }


        .alert {
            padding: 14px 20px;
            border-radius: 12px;
            font-weight: 500;
            font-size: 14px;
            text-align: center;
            transform: translateY(-100px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            position: absolute;
            width: 100%;
            top: 0;
            left: 0;
        }

        .alert.show {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }

        .alert.hide {
            transform: translateY(-100px);
            opacity: 0;
            pointer-events: none;
        }

        .alert-success {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .alert-error {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .alert-warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        /* Left Panel - Hero Section */
        .hero-panel {
            flex: 1.2;
            background: linear-gradient(135deg, #0b3d91 0%, #1e5bb8 50%, #2563eb 100%);
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            overflow: hidden;
            animation: heroSlideIn 1.2s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }

        @keyframes heroSlideIn {
            from {
                transform: translateX(-60px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .hero-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3') center/cover;
            opacity: 0.1;
            z-index: 1;
        }

        .floating-shapes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 2;
        }

        .shape {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 20s infinite ease-in-out;
        }

        .shape:nth-child(1) {
            width: 100px;
            height: 100px;
            top: 15%;
            left: 10%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 60px;
            height: 60px;
            top: 65%;
            right: 15%;
            animation-delay: 7s;
        }

        .shape:nth-child(3) {
            width: 80px;
            height: 80px;
            bottom: 20%;
            left: 20%;
            animation-delay: 14s;
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg); 
                opacity: 0.1;
            }
            50% { 
                transform: translateY(-30px) rotate(180deg); 
                opacity: 0.3;
            }
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            max-width: 480px;
            color: white;
            animation: heroContentFade 1.5s ease-out 0.3s both;
        }

        @keyframes heroContentFade {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .brand-logo {
            width: 70px;
            height: 70px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 800;
            color: white;
            margin: 0 auto 30px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            animation: logoFloat 4s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { 
                transform: translateY(0px) scale(1);
                box-shadow: 0 8px 25px rgba(255, 255, 255, 0.15);
            }
            50% { 
                transform: translateY(-8px) scale(1.05);
                box-shadow: 0 15px 35px rgba(255, 255, 255, 0.25);
            }
        }

        .hero-title {
            font-size: 38px;
            font-weight: 700;
            margin-bottom: 16px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero-subtitle {
            font-size: 16px;
            line-height: 1.5;
            opacity: 0.9;
            margin-bottom: 40px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 24px 16px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            text-align: center;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
            animation: statFadeIn 0.8s ease-out forwards;
            animation-delay: calc(var(--i) * 0.15s);
            opacity: 0;
            transform: translateY(30px);
        }

        @keyframes statFadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stat-item:hover {
            transform: translateY(-6px) scale(1.02);
            background: rgba(255, 255, 255, 0.18);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .stat-number {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 8px;
            color: #fff;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.9;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .testimonial {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            margin-top: 20px;
            animation: testimonialSlide 1s ease-out 1s both;
        }

        @keyframes testimonialSlide {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .testimonial-text {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 12px;
            opacity: 0.95;
            font-style: italic;
        }

        .testimonial-author {
            font-size: 12px;
            font-weight: 600;
            opacity: 0.8;
        }

        /* Right Panel - Register Form */
        .register-panel {
            flex: 1;
            background: white;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 70px 20px 15px 20px;
            position: relative;
            animation: registerSlideIn 1.2s cubic-bezier(0.23, 1, 0.32, 1) 0.2s both;
            overflow-y: auto;
            min-height: 100vh;
        }

        @keyframes registerSlideIn {
            from {
                transform: translateX(60px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .register-container {
            width: 100%;
            max-width: 400px;
            animation: formFadeIn 1s ease-out 0.6s both;
            margin-top: 5px;
            /* margin: auto 0;
            padding: 20px 0; */
        }

        @keyframes formFadeIn {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .register-header {
    margin-bottom: 32px;
    text-align: left;
}

.welcome-badge {
    background: linear-gradient(135deg, rgba(11, 61, 145, 0.12), rgba(30, 91, 184, 0.18));
    color: #0b3d91;
    padding: 10px 20px;
    border-radius: 25px;
    font-size: 13px;
    font-weight: 700;
    letter-spacing: 0.7px;
    text-transform: uppercase;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 24px;
    border: 1px solid rgba(11, 61, 145, 0.2);
    box-shadow: 0 4px 12px rgba(11, 61, 145, 0.1);
}

.register-title {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 16px;
    line-height: 1.2;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.title-gradient {
    background: linear-gradient(135deg, #1a202c, #4a5568);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 0.85em;
    font-weight: 600;
}

.title-accent {
    background: linear-gradient(135deg, #0b3d91, #1e5bb8, #2563eb);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 700;
    font-size: 1.1em;
}

.register-subtitle {
    color: #64748b;
    font-size: 15px;
    line-height: 1.6;
    max-width: 380px;
}

.subtitle-highlight {
    color: #475569;
    font-weight: 600;
}

        /* Form Styles */
        .register-form {
            margin-bottom: 28px;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 6px;
            transition: all 0.3s ease;
        }

        .form-label.required::after {
            content: '*';
            color: #ef4444;
            margin-left: 4px;
        }

        .input-wrapper {
            position: relative;
        }

        .form-input {
            width: 100%;
            padding: 12px 14px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 14px;
            background: #ffffff;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            outline: none;
            color: #1a202c;
        }

        .form-input::placeholder {
            color: #9ca3af;
        }

        .form-input:focus {
            border-color: #0b3d91;
            box-shadow: 0 0 0 3px rgba(11, 61, 145, 0.1);
            transform: translateY(-2px);
        }

        .form-select {
            width: 100%;
            padding: 12px 14px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 14px;
            background: #ffffff;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            outline: none;
            color: #1a202c;
            cursor: pointer;
        }

        .form-select:focus {
            border-color: #0b3d91;
            box-shadow: 0 0 0 3px rgba(11, 61, 145, 0.1);
            transform: translateY(-2px);
        }

        .input-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            cursor: pointer;
            transition: all 0.3s ease;
            background: none;
            border: none;
            padding: 6px;
            border-radius: 4px;
        }

        .input-icon:hover {
            color: #0b3d91;
            background: rgba(11, 61, 145, 0.1);
        }

        /* Password Strength Indicator */
        .password-strength {
            margin-top: 8px;
            display: block;
        }

        .password-strength.show {
            display: block;
        }

        .strength-bar {
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 6px;
        }

        .strength-fill {
            height: 100%;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .strength-text {
            font-size: 12px;
            font-weight: 500;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .strength-weak { background: #ef4444; }
        .strength-fair { background: #f59e0b; }
        .strength-good { background: #6366f1; }
        .strength-strong { background: #10b981; }
        .strength-requirements {color: #6b7280;}
        .strength-requirements.complete {color: #10b981;font-weight: 600;}

        /* Terms and Conditions */
        .terms-wrapper {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 24px;
        }

        .custom-checkbox {
            position: relative;
            width: 18px;
            height: 18px;
            flex-shrink: 0;
            margin-top: 2px;
            cursor: pointer;
        }

        .custom-checkbox input {
            opacity: 0;
            position: absolute;
            width: 100%;
            height: 100%;
            cursor: pointer;
            margin: 0;
        }

        .checkmark {
            position: absolute;
            top: 0;
            left: 0;
            width: 18px;
            height: 18px;
            background: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 4px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .custom-checkbox input:checked + .checkmark {
            background: #0b3d91;
            border-color: #0b3d91;
        }

        .checkmark i {
            color: white;
            font-size: 10px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .custom-checkbox input:checked + .checkmark i {
            opacity: 1;
        }

        .terms-text {
            font-size: 13px;
            color: #6b7280;
            line-height: 1.4;
        }

        .terms-link {
            color: #0b3d91;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .terms-link:hover {
            color: #083166;
            text-decoration: underline;
        }

        .btn-primary {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #0b3d91, #1e5bb8);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s ease;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(11, 61, 145, 0.3);
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:active {
            transform: translateY(-1px);
        }

        .btn-primary:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        /* Loading State */
        .loading {
            position: relative;
            color: transparent;
            pointer-events: none;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 18px;
            height: 18px;
            margin-left: -9px;
            margin-top: -9px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .signin-section {
            text-align: center;
            margin-bottom: 2rem;
            padding-top: 20px;
            border-top: 1px solid #f3f4f6;
        }

        .signin-text {
            color: #6b7280;
            font-size: 14px;
        }

        .signin-link {
            color: #0b3d91;
            text-decoration: none;
            font-weight: 600;
            margin-left: 4px;
            transition: all 0.3s ease;
            position: relative;
        }

        .signin-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: #0b3d91;
            transition: width 0.3s ease;
        }

        .signin-link:hover {
            color: #083166;
        }

        .signin-link:hover::after {
            width: 100%;
        }

        /* Validation States */
        .form-input.valid {
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .form-input.invalid {
            border-color: #ef4444;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
        }

        .error-message {
            font-size: 12px;
            color: #ef4444;
            margin-top: 6px;
            display: none;
        }

        .error-message.show {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Top Alert Container -->
            <div class="alert-container">
                <div id="successAlert" class="alert alert-success">
                    <i class="fas fa-check-circle"></i> Account created successfully! Welcome to DME Study Hub!
                </div>
                <div id="errorAlert" class="alert alert-error">
                    <i class="fas fa-exclamation-triangle"></i> Please fix the errors below and try again.
                </div>
                <div id="warningAlert" class="alert alert-warning">
                    <i class="fas fa-exclamation-circle"></i> Please agree to the terms and conditions to continue.
                </div>
            </div>

        <!-- Left Panel - Hero Section -->
        <div class="hero-panel">
            <div class="floating-shapes">
                <div class="shape"></div>
                <div class="shape"></div>
                <div class="shape"></div>
            </div>
            
            <div class="hero-content">
                <div class="brand-logo">DME</div>
                <h1 class="hero-title">Join Our Community</h1>
                <p class="hero-subtitle">Create your account and become part of Thailand's most active Digital Media Engineering student network. Access premium resources and connect with like-minded peers.</p>
                
                <div class="stats-grid">
                    <div class="stat-item" style="--i: 0;">
                        <div class="stat-number">200+</div>
                        <div class="stat-label">Active Students</div>
                    </div>
                    <div class="stat-item" style="--i: 1;">
                        <div class="stat-number">1,500+</div>
                        <div class="stat-label">Study Materials</div>
                    </div>
                    <div class="stat-item" style="--i: 2;">
                        <div class="stat-number">50+</div>
                        <div class="stat-label">Study Groups</div>
                    </div>
                    <div class="stat-item" style="--i: 3;">
                        <div class="stat-number">95%</div>
                        <div class="stat-label">Success Rate</div>
                    </div>
                </div>

                <div class="testimonial">
                    <div class="testimonial-text">"DME Study Hub helped me connect with seniors and access quality study materials that improved my GPA significantly. The community support is amazing!"</div>
                    <div class="testimonial-author">— Sirawit K., DME Year 3</div>
                </div>
            </div>
        </div>

        <!-- Right Panel - Register Form -->
        <div class="register-panel">

            <div class="register-container">
                <div class="register-header">
    <div class="welcome-badge">
        <i class="fas fa-user-plus"></i>
        <span>New Member</span>
    </div>
    <h2 class="register-title">
        <span class="title-gradient">Create your</span>
        <span class="title-accent">DME account</span>
    </h2>
    <p class="register-subtitle">
        <span class="subtitle-highlight">Fill out the form below</span> to join our community of Digital Media Engineering students and access exclusive study resources.
    </p>
</div>

                <form class="register-form" id="registerForm" novalidate>
                    <div class="form-group">
                        <label class="form-label required" for="name">Name</label>
                        <input 
                            type="text" 
                            class="form-input" 
                            id="name" 
                            placeholder="Enter your name" 
                            required
                            autocomplete="name"
                        >
                        <div class="error-message" id="nameError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="year">Academic Year</label>
                        <select class="form-select" id="year" required>
                            <option value="">Select year</option>
                            <option value="1">Year 1</option>
                            <option value="2">Year 2</option>
                            <option value="3">Year 3</option>
                            <option value="4">Year 4</option>
                            <option value="graduate">Graduate</option>
                        </select>
                        <div class="error-message" id="yearError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="email">Email</label>
                        <input 
                            type="email" 
                            class="form-input" 
                            id="email" 
                            placeholder="your.email@example.com" 
                            required
                            autocomplete="email"
                        >
                        <div class="error-message" id="emailError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="password">Password</label>
                        <div class="input-wrapper">
                            <input 
                                type="password" 
                                class="form-input" 
                                id="password" 
                                placeholder="Create a strong password" 
                                required
                                autocomplete="new-password"
                                style="padding-right: 42px;"
                            >
                            <button type="button" class="input-icon password-toggle" onclick="togglePassword('password')">
                                <i class="fas fa-eye" id="passwordEyeIcon"></i>
                            </button>
                        </div>
                        <div class="password-strength show" id="passwordStrength">
                            <div class="strength-bar">
                                <div class="strength-fill strength-weak" id="strengthFill" style="width: 0%;"></div>
                            </div>
                            <div class="strength-text">
                                <span id="strengthText">Password strength</span>
                                <span id="strengthRequirements">Enter a password</span>
                            </div>
                        </div>
                        <div class="error-message" id="passwordError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="confirmPassword">Confirm Password</label>
                        <div class="input-wrapper">
                            <input 
                                type="password" 
                                class="form-input" 
                                id="confirmPassword" 
                                placeholder="Confirm your password" 
                                required
                                autocomplete="new-password"
                                style="padding-right: 42px;"
                            >
                            <button type="button" class="input-icon password-toggle" onclick="togglePassword('confirmPassword')">
                                <i class="fas fa-eye" id="confirmPasswordEyeIcon"></i>
                            </button>
                        </div>
                        <div class="error-message" id="confirmPasswordError"></div>
                    </div>

                    <div class="terms-wrapper">
                        <div class="custom-checkbox">
                            <input type="checkbox" id="terms" required>
                            <span class="checkmark">
                                <i class="fas fa-check"></i>
                            </span>
                        </div>
                        <div class="terms-text">
                            I agree to the <a href="#" class="terms-link">Terms of Service</a> and 
                            <a href="#" class="terms-link">Privacy Policy</a>. I understand that my 
                            information will be used to verify my student status and provide access 
                            to study materials.
                        </div>
                    </div>

                    <button type="submit" class="btn-primary" id="registerBtn">
                        Create My Account
                    </button>
                </form>

                <div class="signin-section">
                    <p class="signin-text">
                        Already have an account?
                        <a href="login.html" class="signin-link">Sign in here</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Show alert function
        function showAlert(type, duration = 4000) {
            const alertTypes = {
                'success': 'successAlert',
                'error': 'errorAlert',
                'warning': 'warningAlert'
            };
            
            const alertId = alertTypes[type];
            const alert = document.getElementById(alertId);
            const alertContainer = document.querySelector('.alert-container');
            
            // Hide other alerts first
            document.querySelectorAll('.alert').forEach(a => {
                if (a.id !== alertId) {
                    a.classList.remove('show');
                    a.classList.add('hide');
                }
            });
            
            // Show current alert and enable pointer events
            alertContainer.style.pointerEvents = 'auto';
            alert.classList.remove('hide');
            alert.classList.add('show');
            
            // Auto hide after duration
            setTimeout(() => {
                alert.classList.remove('show');
                alert.classList.add('hide');
                
                // Disable pointer events when all alerts are hidden
                setTimeout(() => {
                    const hasVisibleAlert = document.querySelector('.alert.show');
                    if (!hasVisibleAlert) {
                        alertContainer.style.pointerEvents = 'none';
                    }
                }, 500); // Wait for hide animation to complete
            }, duration);
        }

        // Password toggle functionality
        function togglePassword(fieldId) {
            const passwordField = document.getElementById(fieldId);
            const eyeIcon = document.getElementById(fieldId + 'EyeIcon');
            
            if (passwordField.type === 'password') {
                passwordField.type = 'text';
                eyeIcon.className = 'fas fa-eye-slash';
            } else {
                passwordField.type = 'password';
                eyeIcon.className = 'fas fa-eye';
            }
        }

        // Password strength checker
        function checkPasswordStrength(password) {
            let strength = 0;
            let requirements = [];
            
            if (password.length >= 8) {
                strength++;
            } else {
                requirements.push('8+ chars');
            }
            
            if (/[a-z]/.test(password)) {
                strength++;
            } else {
                requirements.push('lowercase');
            }
            
            if (/[A-Z]/.test(password)) {
                strength++;
            } else {
                requirements.push('uppercase');
            }
            
            if (/[0-9]/.test(password)) {
                strength++;
            } else {
                requirements.push('number');
            }
            
            if (/[^A-Za-z0-9]/.test(password)) {
                strength++;
            } else {
                requirements.push('special char');
            }
            
            return { strength, requirements };
        }

        // Update password strength indicator
        function updatePasswordStrength(password) {
            const strengthFill = document.getElementById('strengthFill');
            const strengthText = document.getElementById('strengthText');
            const strengthReq = document.getElementById('strengthRequirements');
            const passwordField = document.getElementById('password');
            
            if (password.length === 0) {
                strengthFill.className = 'strength-fill strength-weak';
                strengthFill.style.width = '0%';
                strengthText.textContent = 'Password strength';
                strengthReq.textContent = 'Enter a password';
                strengthReq.className = 'strength-requirements';
                // Reset border when empty
                if (document.activeElement !== passwordField) {
                    passwordField.style.borderColor = '#e5e7eb';
                    passwordField.style.boxShadow = 'none';
                }
                return;
            }
            
            const { strength, requirements } = checkPasswordStrength(password);
            
            // สำหรับ All requirements met (5/5)
            if (requirements.length === 0) {
                strengthFill.className = 'strength-fill strength-strong';
                strengthFill.style.width = '100%';
                strengthText.textContent = 'All requirements met!';
                strengthReq.textContent = 'Perfect password!';
                strengthReq.className = 'strength-requirements complete';
                
                // Set green border when not focused (strength >= good)
                if (document.activeElement !== passwordField) {
                    passwordField.style.borderColor = '#10b981';
                    passwordField.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                }
            }
            // สำหรับ Strong (4/5)
            else if (strength === 4) {
                strengthFill.className = 'strength-fill strength-good';
                strengthFill.style.width = '85%';
                strengthText.textContent = 'Strong';
                strengthReq.textContent = 'Missing: ' + requirements.join(', ');
                strengthReq.className = 'strength-requirements';
                
                // Set green border when not focused (strength >= good)
                if (document.activeElement !== passwordField) {
                    passwordField.style.borderColor = '#10b981';
                    passwordField.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                }
            }
            // สำหรับ Good (3/5)
            else if (strength === 3) {
                strengthFill.className = 'strength-fill strength-fair';
                strengthFill.style.width = '65%';
                strengthText.textContent = 'Good';
                strengthReq.textContent = 'Missing: ' + requirements.join(', ');
                strengthReq.className = 'strength-requirements';
                
                // Set green border when not focused (strength >= good)
                if (document.activeElement !== passwordField) {
                    passwordField.style.borderColor = '#10b981';
                    passwordField.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                }
            }
            // สำหรับ Fair (2/5) - ต่ำกว่า good
            else if (strength === 2) {
                strengthFill.className = 'strength-fill strength-weak';
                strengthFill.style.width = '45%';
                strengthText.textContent = 'Fair';
                strengthReq.textContent = 'Missing: ' + requirements.join(', ');
                strengthReq.className = 'strength-requirements';
                
                // Set red border when not focused (strength < good)
                if (document.activeElement !== passwordField) {
                    passwordField.style.borderColor = '#ef4444';
                    passwordField.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1)';
                }
            }
            // สำหรับ Weak (0-1/5) - ต่ำกว่า good
            else {
                strengthFill.className = 'strength-fill strength-weak';
                strengthFill.style.width = strength === 1 ? '25%' : '10%';
                strengthText.textContent = strength === 1 ? 'Weak' : 'Very Weak';
                strengthReq.textContent = 'Missing: ' + requirements.join(', ');
                strengthReq.className = 'strength-requirements';
                
                // Set red border when not focused (strength < good)
                if (document.activeElement !== passwordField) {
                    passwordField.style.borderColor = '#ef4444';
                    passwordField.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1)';
                }
            }
        }

        // Validation functions
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            const dmeEmailRegex = /@(dme\.ac\.th|kku\.ac\.th)$/;
            
            if (!emailRegex.test(email)) {
                return 'Please enter a valid email address';
            }
            
            if (!dmeEmailRegex.test(email)) {
                return 'Please use your KKU or DME email address';
            }
            
            return null;
        }

        function validateStudentId(studentId) {
            const studentIdRegex = /^[0-9]{9}-[0-9]$/;
            
            if (!studentIdRegex.test(studentId)) {
                return 'Student ID must be in format: 123456789-0';
            }
            
            return null;
        }

        function validateSecondaryEmail(email) {
            if (!email) return null; // Optional field
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!emailRegex.test(email)) {
                return 'Please enter a valid email address';
            }
            
            return null;
        }

        function validateName(name, fieldName) {
            if (name.length < 2) {
                return fieldName + ' must be at least 2 characters long';
            }
            
            if (!/^[a-zA-ZÀ-ÿ\u0E00-\u0E7F\s]+$/.test(name)) {
                return fieldName + ' can only contain letters and spaces';
            }
            
            return null;
        }

        function showFieldError(fieldId, message) {
            const field = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId + 'Error');
            
            if (message) {
                field.classList.add('invalid');
                field.classList.remove('valid');
                errorElement.textContent = message;
                errorElement.classList.add('show');
                // Set red border for errors - force override any existing styles
                field.style.setProperty('border-color', '#ef4444', 'important');
                field.style.setProperty('box-shadow', '0 0 0 3px rgba(239, 68, 68, 0.1)', 'important');
            } else {
                field.classList.remove('invalid');
                field.classList.add('valid');
                errorElement.classList.remove('show');
                errorElement.textContent = '';
                // Set appropriate border color based on field content
                if (field.value.trim()) {
                    // Field has value - set green border
                    field.style.setProperty('border-color', '#10b981', 'important');
                    field.style.setProperty('box-shadow', '0 0 0 3px rgba(16, 185, 129, 0.1)', 'important');
                } else {
                    // Field is empty - set default border
                    field.style.setProperty('border-color', '#e5e7eb', 'important');
                    field.style.setProperty('box-shadow', 'none', 'important');
                }
            }
        }

        // Form submission handler
        document.getElementById('registerForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const registerBtn = document.getElementById('registerBtn');
            const formData = {
                name: document.getElementById('name').value.trim(),
                email: document.getElementById('email').value.trim(),
                year: document.getElementById('year').value,
                password: document.getElementById('password').value,
                confirmPassword: document.getElementById('confirmPassword').value,
                terms: document.getElementById('terms').checked
            };
            
            // Validation
            let isValid = true;
            
            // Validate name
            const nameError = validateName(formData.name, 'Name');
            showFieldError('name', nameError);
            if (nameError) isValid = false;
            
            // Validate email
            const emailError = validateGeneralEmail(formData.email);
            showFieldError('email', emailError);
            if (emailError) isValid = false;
            
            // Validate year
            if (!formData.year) {
                showFieldError('year', 'Please select your academic year');
                isValid = false;
            } else {
                showFieldError('year', null);
            }
            
            // Validate password
            const { strength } = checkPasswordStrength(formData.password);
            if (strength < 3) {
                showFieldError('password', 'Password must be at least Good strength. Please choose a stronger password.');
                isValid = false;
            } else {
                showFieldError('password', null);
            }
            
            // Validate password confirmation
            if (!formData.confirmPassword) {
                showFieldError('confirmPassword', 'Please confirm your password');
                isValid = false;
            } else if (formData.password !== formData.confirmPassword) {
                showFieldError('confirmPassword', 'Passwords do not match');
                isValid = false;
            } else {
                showFieldError('confirmPassword', null);
            }
            
            // Check validation first
            if (!isValid) {
                showAlert('error');
                return;
            }

            // Check terms agreement after all fields are valid
            if (!formData.terms) {
                e.preventDefault();
                showAlert('warning');
                return;
            }
            
            // Show loading state
            registerBtn.classList.add('loading');
            registerBtn.disabled = true;
            
            // Simulate API call
            try {
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Show success message
                showAlert('success', 3000);
                
                // Redirect to login page after success
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 2500);
                
            } catch (err) {
                showAlert('error');
            } finally {
                registerBtn.classList.remove('loading');
                registerBtn.disabled = false;
            }
        });

        // Real-time input validation
        const inputs = document.querySelectorAll('.form-input, .form-select');
        inputs.forEach(input => {
            // ... existing focus/blur handlers ...

            input.addEventListener('blur', function() {
                const label = this.closest('.form-group').querySelector('.form-label');
                if (label) {
                    label.style.color = '#374151';
                    label.style.transform = 'translateY(0)';
                }
                
                // Validate on blur and set colors
                const fieldId = this.id;
                const value = this.value.trim();
                
                switch (fieldId) {
                    case 'name':
                        if (value) {
                            const error = validateName(value, 'Name');
                            showFieldError(fieldId, error);
                        }
                        break;
                    case 'email':
                        if (value) {
                            const error = validateGeneralEmail(value);
                            showFieldError(fieldId, error);
                        }
                        break;
                    case 'year':
                        if (value) {
                            // Set green border for selected year
                            this.style.borderColor = '#10b981';
                            this.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                        }
                        break;
                    case 'password':
                        // Password strength border is handled in updatePasswordStrength function
                        break;
                    case 'confirmPassword':
                        const password = document.getElementById('password').value;
                        if (value && password) {
                            const error = value !== password ? 'Passwords do not match' : null;
                            showFieldError(fieldId, error);
                        } else if (value && !password) {
                            // If confirm password is filled but password is empty
                            showFieldError(fieldId, 'Please enter password first');
                        }
                        break;
                }
            });

            // Real-time validation for password
            if (input.id === 'password') {
                input.addEventListener('input', function() {
                    updatePasswordStrength(this.value);
                    // Clear password strength error when user is typing and strength is good
                    const { strength } = checkPasswordStrength(this.value);
                    if (strength >= 3) {
                        showFieldError('password', null);
                    }
                });
                
                input.addEventListener('focus', function() {
                    // Reset to focus style when focused
                    this.style.borderColor = '#0b3d91';
                    this.style.boxShadow = '0 0 0 3px rgba(11, 61, 145, 0.1)';
                });
                
                input.addEventListener('blur', function() {
                    // Apply color based on password strength when losing focus
                    const password = this.value;
                    if (password.length > 0) {
                        const { strength } = checkPasswordStrength(password);
                        if (strength >= 3) { // Good หรือสูงกว่า
                            this.style.borderColor = '#10b981';
                            this.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                        } else { // ต่ำกว่า Good
                            this.style.borderColor = '#ef4444';
                            this.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1)';
                        }
                    } else {
                        // ถ้าไม่มีรหัสผ่าน ให้เป็นสีปกติ
                        this.style.borderColor = '#e5e7eb';
                        this.style.boxShadow = 'none';
                    }
                });
            }

            // Real-time validation for confirm password
            if (input.id === 'confirmPassword') {
                input.addEventListener('input', function() {
                    const password = document.getElementById('password').value;
                    if (this.value && password) {
                        const error = this.value !== password ? 'Passwords do not match' : null;
                        showFieldError('confirmPassword', error);
                    }
                });
            }
        });

        // Enhanced checkbox interactions
        const termsWrapper = document.querySelector('.custom-checkbox');
        const checkboxInput = document.getElementById('terms');
        
        termsWrapper.addEventListener('mouseenter', function() {
            this.querySelector('.checkmark').style.borderColor = '#0b3d91';
            this.querySelector('.checkmark').style.transform = 'scale(1.05)';
        });

        termsWrapper.addEventListener('mouseleave', function() {
            if (!checkboxInput.checked) {
                this.querySelector('.checkmark').style.borderColor = '#e5e7eb';
            }
            this.querySelector('.checkmark').style.transform = 'scale(1)';
        });

        function validateGeneralEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!emailRegex.test(email)) {
                return 'Please enter a valid email address';
            }
            
            return null;
        }

        // Make terms checkbox clickable
        termsWrapper.addEventListener('click', function(e) {
            // Prevent double trigger if clicking directly on the input
            if (e.target.type !== 'checkbox') {
                e.preventDefault();
                checkboxInput.checked = !checkboxInput.checked;
                
                // Trigger change event for any listeners
                checkboxInput.dispatchEvent(new Event('change'));
            }
        });

        // Handle checkbox change styling
        checkboxInput.addEventListener('change', function() {
            const checkmark = this.parentNode.querySelector('.checkmark');
            if (this.checked) {
                checkmark.style.borderColor = '#0b3d91';
                checkmark.style.backgroundColor = '#0b3d91';
            } else {
                checkmark.style.borderColor = '#e5e7eb';
                checkmark.style.backgroundColor = '#ffffff';
            }
        });

        // Year select validation
        document.getElementById('year').addEventListener('change', function() {
            if (this.value) {
                this.style.borderColor = '#10b981';
                this.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                showFieldError('year', null);
            } else {
                this.style.borderColor = '#e5e7eb';
                this.style.boxShadow = 'none';
            }
        });
    </script>
</body>
</html>